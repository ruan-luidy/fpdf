<UserControl
  x:Class="fpdf.Wpf.Views.Controls.PrintQueueControl"
  xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:hc="https://handyorg.github.io/handycontrol"
  xmlns:icon="http://metro.mahapps.com/winfx/xaml/iconpacks"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:vm="clr-namespace:fpdf.Wpf.ViewModels"
  d:DataContext="{d:DesignInstance Type=vm:PrintQueueViewModel}"
  mc:Ignorable="d">

  <Grid>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="Auto" />
      <ColumnDefinition Width="*" />
      <ColumnDefinition Width="Auto" />
      <ColumnDefinition Width="Auto" />
    </Grid.ColumnDefinitions>

    <!--  Impressora  -->
    <StackPanel Grid.Column="0" Orientation="Horizontal">
      <icon:PackIconPhosphorIcons
        Width="16"
        Height="16"
        Margin="0,0,8,0"
        VerticalAlignment="Center"
        Foreground="{DynamicResource PrimaryBrush}"
        Kind="Printer" />
      <TextBlock
        MaxWidth="200"
        VerticalAlignment="Center"
        Text="{Binding SelectedPrinter.DisplayName, FallbackValue='Nenhuma impressora'}"
        TextTrimming="CharacterEllipsis" />
    </StackPanel>

    <!--  Contador da fila  -->
    <Button
      Grid.Column="1"
      Margin="16,0"
      HorizontalAlignment="Left"
      Click="OpenQueueDialog_Click"
      Style="{StaticResource ButtonIconCustom}"
      ToolTip="Ver fila de impressão">
      <StackPanel Orientation="Horizontal">
        <icon:PackIconPhosphorIcons
          Width="14"
          Height="14"
          Kind="Queue" />
        <TextBlock Margin="6,0,0,0" Text="{Binding PendingCount, StringFormat='{}{0} na fila'}" />
      </StackPanel>
    </Button>

    <!--  Copias  -->
    <hc:NumericUpDown
      Grid.Column="2"
      Width="70"
      Margin="0,0,8,0"
      hc:TitleElement.Title="Cópias"
      hc:TitleElement.TitlePlacement="Left"
      Maximum="100"
      Minimum="1"
      Style="{StaticResource NumericUpDownPlus}"
      Value="{Binding Copies}" />

    <!--  Botao Imprimir  -->
    <Button
      Grid.Column="3"
      Command="{Binding PrintQueueCommand}"
      IsEnabled="{Binding IsPrinting, Converter={StaticResource Boolean2BooleanReConverter}}"
      Style="{StaticResource ButtonPrimary}">
      <StackPanel Orientation="Horizontal">
        <icon:PackIconPhosphorIcons
          Width="16"
          Height="16"
          Kind="Printer" />
        <TextBlock Margin="8,0,0,0" Text="Imprimir" />
      </StackPanel>
    </Button>
  </Grid>
</UserControl>
